{"version":3,"sources":["webpack:///./src/home.vue?5147","webpack:///./src/Github.vue?1b5c","webpack:///src/Github.vue","webpack:///./src/Github.vue?c481","webpack:///./src/Github.vue","webpack:///src/home.vue","webpack:///./src/home.vue?5b19","webpack:///./src/home.vue","webpack:///./src/home.vue?8384","webpack:///./src/Github.vue?9e66","webpack:///./node_modules/core-js/modules/web.dom.iterable.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","download-tips","downloadTips","on","change","search","click","downloadJson","_m","directives","name","rawName","value","expression","_v","ref","confirm","downloadAllJson","staticRenderFns","id","Githubvue_type_template_id_8c423ad0_scoped_true_render","href","aria-label","target","staticStyle","fill","color","position","top","border","right","width","height","viewBox","aria-hidden","d","transform-origin","Githubvue_type_template_id_8c423ad0_scoped_true_staticRenderFns","Githubvue_type_script_lang_js_","data","mounted","computed","methods","src_Githubvue_type_script_lang_js_","component","Object","componentNormalizer","Github","homevue_type_script_lang_js_","components","MoneyDialog","MapRange","cityName","areaCode","geoJsonData","echartsMap","map","uimap","district","polygons","cityCode","citySelect","districtSelect","opts","areaData","mapData","zip","codeList","isCodeListLoadComplete","isShowTips","_this","lib_default","a","document","getElementById","$echarts","init","echartsMapClick","AMap","Map","resizeEnable","center","zoom","subdistrict","showbiz","DistrictSearch","status","result","getData","districtList","watch","val","loadAllGeoJson","downloadMapCode","mapCode","cityMapCode","provinceMapCode","provinceList","cityList","i","filter","item","level","forEach","push","code","fatherCode","concat","substring","children","j","_i","_children","_j","length","file","stringify_default","generateAsync","type","then","content","saveAs","params","_this2","console","log","$ba","trackEvent","l","setMap","setLevel","setExtensions","loadMapData","_this3","AMapUI","loadUI","DistrictExplorer","districtExplorer","window","eventSupport","loadAreaNode","error","areaNode","mapJson","features","getSubFeatures","loadMap","showTips","_this4","setTimeout","nameType","$refs","dialog","show","blob","Blob","filename","loopSearch","_this5","adcode","_i2","_this6","_loop","geo","every","readme","mapName","registerMap","option","visualMap","pieces","max","label","min","textStyle","visibility","series","roam","mapType","selectedMode","showLegendSymbol","itemStyle","normal","areaColor","borderColor","borderWidth","emphasis","areaStyle","setOption","bounds","boundaries","polygon","Polygon","strokeWeight","strokeColor","fillColor","fillOpacity","path","setFitView","innerHTML","subList","contentSub","Option","curlevel","mapJsonList","_i3","properties","Math","random","curList","querySelector","add","levelSub","setAttribute","area","_this7","obj","options","selectedIndex","keyword","text","src_homevue_type_script_lang_js_","home_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_id_22d70114_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_home_vue_vue_type_style_index_0_id_22d70114_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Github_vue_vue_type_style_index_0_id_8c423ad0_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Github_vue_vue_type_style_index_0_id_8c423ad0_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","$iterators","getKeys","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","Array","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","key","NAME","explicit","Collection","proto","prototype"],"mappings":"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","file":"js/chunk-35eb5aae.2e3de456.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"map\"},[_c('map-range',{attrs:{\"download-tips\":_vm.downloadTips},on:{\"change\":_vm.search,\"click\":_vm.downloadJson}})],1),_vm._m(0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowTips),expression:\"isShowTips\"}],staticClass:\"tips\"},[_vm._v(\"正在下载，请耐心等待。。。(可打开控制台查看进度详情)\")]),_c('money-dialog',{ref:\"dialog\",on:{\"confirm\":_vm.downloadAllJson}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"echarts\"},[_c('div',{attrs:{\"id\":\"map\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"github-corner\",attrs:{\"href\":\"https://github.com/TangSY/echarts-map-demo\",\"aria-label\":\"View source on GitHub\",\"target\":\"_blank\"}},[_c('svg',{staticStyle:{\"fill\":\"#FD6C6C\",\"color\":\"#fff\",\"position\":\"absolute\",\"top\":\"0\",\"border\":\"0\",\"right\":\"0\"},attrs:{\"width\":\"80\",\"height\":\"80\",\"viewBox\":\"0 0 250 250\",\"aria-hidden\":\"true\"}},[_c('path',{attrs:{\"d\":\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"}}),_c('path',{staticClass:\"octo-arm\",staticStyle:{\"transform-origin\":\"130px 106px\"},attrs:{\"d\":\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\",\"fill\":\"currentColor\"}}),_c('path',{staticClass:\"octo-body\",attrs:{\"d\":\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\",\"fill\":\"currentColor\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n* @Description:    右上角github入口\r\n* @Author:         TSY \r\n* @Email:          t@tsy6.com\r\n* @CreateDate:     2019/5/9 23:18\r\n*/\r\n<template>\r\n    <a href=\"https://github.com/TangSY/echarts-map-demo\" class=\"github-corner\" aria-label=\"View source on GitHub\"\r\n       target=\"_blank\">\r\n        <svg width=\"80\" height=\"80\" viewBox=\"0 0 250 250\"\r\n             style=\"fill:#FD6C6C; color:#fff; position: absolute; top: 0; border: 0; right: 0;\" aria-hidden=\"true\">\r\n            <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"></path>\r\n            <path d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\"\r\n                  fill=\"currentColor\" style=\"transform-origin: 130px 106px;\" class=\"octo-arm\"></path>\r\n            <path d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\"\r\n                  fill=\"currentColor\" class=\"octo-body\"></path>\r\n        </svg>\r\n    </a>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Github\",\r\n        data() {\r\n            return {}\r\n        },\r\n        mounted() {\r\n\r\n        },\r\n        computed: {},\r\n        methods: {}\r\n    }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n\r\n    .github-corner:hover .octo-arm {\r\n        animation: octocat-wave 560ms ease-in-out\r\n    }\r\n\r\n    @keyframes octocat-wave {\r\n        0%, 100% {\r\n            transform: rotate(0)\r\n        }\r\n        20%, 60% {\r\n            transform: rotate(-25deg)\r\n        }\r\n        40%, 80% {\r\n            transform: rotate(10deg)\r\n        }\r\n    }\r\n\r\n    @media (max-width: 500px) {\r\n        .github-corner:hover .octo-arm {\r\n            animation: none\r\n        }\r\n\r\n        .github-corner .octo-arm {\r\n            animation: octocat-wave 560ms ease-in-out\r\n        }\r\n    }\r\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Github.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Github.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Github.vue?vue&type=template&id=8c423ad0&scoped=true&\"\nimport script from \"./Github.vue?vue&type=script&lang=js&\"\nexport * from \"./Github.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Github.vue?vue&type=style&index=0&id=8c423ad0&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8c423ad0\",\n  null\n  \n)\n\nexport default component.exports","\r\n<template>\r\n    <div class=\"body\">\r\n        <div class=\"map\">\r\n            <map-range :download-tips=\"downloadTips\" @change=\"search\" @click=\"downloadJson\"></map-range>\r\n        </div>\r\n        <div class=\"echarts\"> \r\n            <div id=\"map\"></div>\r\n        </div>\r\n        <div class=\"tips\" v-show=\"isShowTips\">正在下载，请耐心等待。。。(可打开控制台查看进度详情)</div>\r\n        <!--哎呀呀，这就是打赏弹窗，为方便你们删除，就单独抽出一个组件来吧-->\r\n        <money-dialog ref=\"dialog\" @confirm=\"downloadAllJson\"></money-dialog>\r\n        <!--github入口-->\r\n        <!-- <github></github> -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import JSZip from 'jszip'\r\n    import saveAs from './saveAs'\r\n    import MapRange from \"./MapRange\";\r\n    import MoneyDialog from \"./MoneyDialog\";\r\n    import Github from \"./Github\";\r\n\r\n    export default {\r\n        name: \"demo\",\r\n        components: {\r\n            Github,\r\n            MoneyDialog,\r\n            MapRange},\r\n        data() {\r\n            return {\r\n                cityName: '中国',\r\n                areaCode: 10000,\r\n                geoJsonData: '',\r\n                echartsMap: null,\r\n                map: null,\r\n                uimap: null,\r\n                district: null,\r\n                polygons: [],\r\n                cityCode: 100000,\r\n                citySelect: null,\r\n                districtSelect: null,\r\n                opts: {},\r\n                areaData: {},\r\n                mapData: [],\r\n                zip: {},//打包zip\r\n                codeList: [],\r\n                isCodeListLoadComplete: false,//codeList是否全部获取完毕\r\n                downloadTips: '下载geoJson数据',//下载进度提示\r\n                isShowTips: false,//是否显示下载提示\r\n            }\r\n        },\r\n        mounted() {\r\n            //实例化zip对象\r\n            this.zip = new JSZip();\r\n\r\n            this.citySelect = document.getElementById('city');\r\n            this.districtSelect = document.getElementById('district');\r\n            this.echartsMap = this.$echarts.init(document.getElementById('map'));\r\n            this.echartsMap.on('click', this.echartsMapClick);\r\n\r\n            this.map = new AMap.Map('container', {\r\n                resizeEnable: true,\r\n                center: [116.30946, 39.937629],\r\n                zoom: 3\r\n            });\r\n            this.opts = {\r\n                subdistrict: 1,   //返回下一级行政区\r\n                showbiz: false  //最后一级返回街道信息\r\n            };\r\n            this.district = new AMap.DistrictSearch(this.opts);//注意：需要使用插件同步下发功能才能这样直接使用\r\n            this.district.search('中国', (status, result) => {\r\n                if (status == 'complete') {\r\n                    this.getData(result.districtList[0], '', 100000);\r\n                }\r\n            });\r\n        },\r\n        watch: {\r\n            isCodeListLoadComplete(val) {\r\n                if (val) {\r\n                    this.loadAllGeoJson();\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            downloadMapCode() {// 下载mapCode数据\r\n                let mapCode = [],cityMapCode = [],provinceMapCode = [],provinceList = [],cityList = [],districtList=[];\r\n\r\n                provinceList = this.codeList.filter(item=>{\r\n                    return item.level === 'province'\r\n                })\r\n                cityList = this.codeList.filter(item=>{\r\n                    return item.level === 'city'\r\n                })\r\n                districtList = this.codeList.filter(item=>{\r\n                    return item.level === 'district'\r\n                })\r\n\r\n                districtList.forEach(item => {\r\n                    mapCode.push({\r\n                        name: item.name,\r\n                        cityCode: item.code,\r\n                        fatherCode: `${item.code.substring(0, 4)}00`,\r\n                        children: []\r\n                    })\r\n                })\r\n\r\n                for (let i in cityList) {\r\n                    let children = []\r\n                    for (let j in mapCode) {\r\n                        if(mapCode[j].fatherCode == cityList[i].code) {\r\n                            children.push(mapCode[j])\r\n                        }\r\n                    }\r\n                    cityMapCode.push({\r\n                        name: cityList[i].name,\r\n                        cityCode: cityList[i].code,\r\n                        fatherCode: `${cityList[i].code.substring(0, 2)}0000`,\r\n                        children: children\r\n                    })\r\n                }\r\n\r\n                for (let i in provinceList) {\r\n                    let children = []\r\n                    for (let j in cityMapCode) {\r\n                        if(cityMapCode[j].fatherCode == provinceList[i].code) {\r\n                            children.push(cityMapCode[j])\r\n                        }\r\n                    }\r\n                    provinceMapCode.push({\r\n                        name: provinceList[i].name,\r\n                        cityCode: provinceList[i].code,\r\n                        fatherCode: '100000',\r\n                        children: children\r\n                    })\r\n                }\r\n\r\n                if (provinceMapCode.length === 0) return\r\n                this.zip.file(`mapCode.json`, JSON.stringify(provinceMapCode));\r\n                this.downloadTips = '文件打包压缩中...';\r\n                this.zip.generateAsync({type: \"blob\"})\r\n                    .then((content) => {\r\n                        saveAs(content, \"mapCode.zip\");\r\n                    });\r\n            },\r\n            echartsMapClick(params) {//地图点击事件\r\n            console.log(params)\r\n                this.$ba.trackEvent('echartsMap', '点击地图', `${params.data.name}-${params.data.cityCode}`);\r\n                if (params.data.level == 'street') return;\r\n                //清除地图上所有覆盖物\r\n                for (var i = 0, l = this.polygons.length; i < l; i++) {\r\n                    this.polygons[i].setMap(null);\r\n                }\r\n                this.cityName = params.data.name;\r\n                this.cityCode = params.data.cityCode;\r\n                this.district.setLevel(params.data.level); //行政区级别\r\n                this.district.setExtensions('all');\r\n                //行政区查询\r\n                //按照adcode进行查询可以保证数据返回的唯一性\r\n                this.district.search(this.cityCode, (status, result) => {\r\n                    if (status === 'complete') {\r\n                        this.getData(result.districtList[0], params.data.level, this.cityCode);\r\n                    }\r\n                });\r\n            },\r\n            loadMapData(areaCode) {\r\n                AMapUI.loadUI(['geo/DistrictExplorer'], DistrictExplorer => {\r\n\r\n                    //创建一个实例\r\n                    var districtExplorer = window.districtExplorer = new DistrictExplorer({\r\n                        eventSupport: true, //打开事件支持\r\n                        map: this.map\r\n                    });\r\n\r\n                    districtExplorer.loadAreaNode(areaCode, (error, areaNode) => {\r\n\r\n                        if (error) {\r\n                            console.error(error);\r\n                            return;\r\n                        }\r\n                        let mapJson = {};\r\n                        mapJson.features = areaNode.getSubFeatures();\r\n                        this.loadMap(this.cityName, mapJson);\r\n                        this.geoJsonData = mapJson;\r\n                    });\r\n                });\r\n            },\r\n            showTips() {\r\n                this.isShowTips = true;\r\n                setTimeout(() => {\r\n                    this.isShowTips = false;\r\n                }, 3000)\r\n            },\r\n            downloadJson(nameType) {//geo文件下载\r\n                if (nameType === 'all') {\r\n                    this.$ba.trackEvent('echartsMap', '文件下载', '打包下载全部');\r\n                    this.$refs.dialog.show();\r\n                    return;\r\n                }\r\n                var blob = new Blob([JSON.stringify(this.geoJsonData)], {type: \"text/plain;charset=utf-8\"});\r\n                let filename = this.cityName;\r\n                if (nameType === 'code') {\r\n                    filename = this.cityCode;\r\n                }\r\n                this.$ba.trackEvent('echartsMap', '文件下载', filename);\r\n                saveAs(blob, `${filename}.geoJson`);//filename\r\n            },\r\n            downloadAllJson() {//一次打包下载所有的数据\r\n                this.showTips();\r\n                if (this.downloadTips != '下载geoJson数据') {\r\n                    return;\r\n                }\r\n                this.codeList = [];\r\n\r\n                this.downloadTips = '获取数据中...';\r\n\r\n//                this.district.setLevel('country'); //行政区级别\r\n                this.district.setExtensions('all');\r\n                console.log('开始递归循环获取地区code..');\r\n                this.loopSearch('中国');\r\n\r\n            },\r\n            loopSearch(code) {\r\n                setTimeout(() => {\r\n                    this.district.search(code, (status, result) => {\r\n                        if (status == 'complete') {\r\n                            console.log(`${code}--获取成功`)\r\n                            for (let i in result.districtList[0].districtList) {\r\n                                this.codeList.push({\r\n                                    name: result.districtList[0].districtList[i].name,\r\n                                    code: result.districtList[0].districtList[i].adcode,\r\n                                    level: result.districtList[0].districtList[i].level\r\n                                })\r\n                                //这边没想出来怎么判断数据是否全部加载完毕了，只能采用这种死办法\r\n                                //有更好解决方案的大佬，麻烦告诉我一下，邮箱t@tsy6.com\r\n                                //或者直接Github提交PR，在此不胜感激\r\n                                if (this.codeList.length >= 428) {\r\n                                    console.log('code获取完成');\r\n                                    this.isCodeListLoadComplete = true;\r\n                                }\r\n                                if (result.districtList[0].districtList[i].adcode && result.districtList[0].districtList[i].level != 'city' && result.districtList[0].districtList[i].level != 'district' && result.districtList[0].districtList[i].level != 'street') {\r\n                                    this.loopSearch(result.districtList[0].districtList[i].adcode)\r\n                                }\r\n                            }\r\n                        } else {//第一遍查询出错，再次执行查询\r\n                            console.log(`${code}--第一次获取失败，正在尝试进行第二次获取`)\r\n                            this.district.search(code, (status, result) => {\r\n                                if (status == 'complete') {\r\n                                    console.log(`${code}--第二次获取成功`)\r\n                                    for (let i in result.districtList[0].districtList) {\r\n                                        this.codeList.push({\r\n                                            name: result.districtList[0].districtList[i].name,\r\n                                            code: result.districtList[0].districtList[i].adcode,\r\n                                            level: result.districtList[0].districtList[i].level\r\n                                        })\r\n                                        //这边没想出来怎么判断数据是否全部加载完毕了，只能采用这种死办法\r\n                                        //有更好解决方案的大佬，麻烦告诉我一下，邮箱t@tsy6.com\r\n                                        //或者直接Github提交PR，在此不胜感激\r\n                                        if (this.codeList.length >= 428) {\r\n                                            console.log('code获取完成');\r\n                                            this.isCodeListLoadComplete = true;\r\n                                        }\r\n                                    }\r\n                                } else {\r\n                                    console.log(`${code}--第二次获取失败，请联系email：t@tsy6.com`)\r\n                                }\r\n                            })\r\n                        }\r\n                    });\r\n                }, 500)\r\n            },\r\n            loadAllGeoJson() {//通过codeList加载全部geoJson数据\r\n                console.log('开始加载geoJson数据');\r\n                AMapUI.loadUI(['geo/DistrictExplorer'], DistrictExplorer => {\r\n\r\n                    //创建一个实例\r\n                    var districtExplorer = window.districtExplorer = new DistrictExplorer({\r\n                        eventSupport: true, //打开事件支持\r\n                        map: this.map\r\n                    });\r\n                    let mapJson = {};\r\n                    for (let i in this.codeList) {\r\n                        setTimeout(() => {\r\n                            districtExplorer.loadAreaNode(this.codeList[i].code, (error, areaNode) => {\r\n                                if (error) {\r\n                                    this.codeList[i].geo = 'error';\r\n                                    console.log(`${this.codeList[i].name}--${this.codeList[i].code}，geo 数据获取失败，高德地图的锅^_^`)\r\n                                } else {\r\n                                    mapJson.features = areaNode && areaNode.getSubFeatures() || '';\r\n                                    this.codeList[i].geo = mapJson;\r\n                                    console.log(`${this.codeList[i].level}--${this.codeList[i].name}--${this.codeList[i].code}，geo 数据获取成功，马上为你打包`)\r\n                                }\r\n\r\n                                if (this.codeList[i].level === 'province') {\r\n                                    this.zip.file(`100000/${this.codeList[i].code}.geoJson`, JSON.stringify(mapJson));\r\n                                } else {\r\n                                    this.zip.file(`100000/${this.codeList[i].code.substring(0, 2)}0000/${this.codeList[i].code}.geoJson`, JSON.stringify(mapJson));\r\n                                }\r\n\r\n                                if (this.codeList.every(item => item.geo)) {\r\n                                    console.log('ziped');\r\n                                    let readme = `\\r\\n\r\n                                            项目源码github地址：https://github.com/TangSY/echarts-map-demo （欢迎star）\r\n                                            \\r\\n\r\n                                            个人空间：https://www.hxkj.vip （欢迎闲逛）\r\n                                            \\r\\n\r\n                                             Email：t@tsy6.com  （遇到问题可以反馈）\r\n                                         `;\r\n                                    this.zip.file(`readMe(sourceCode).txt`, readme);\r\n                                    this.downloadTips = '文件打包压缩中...';\r\n                                    this.zip.generateAsync({type: \"blob\"})\r\n                                        .then((content) => {\r\n                                            saveAs(content, \"geoJson数据包.zip\");\r\n                                            this.downloadTips = '下载geoJson数据';\r\n                                            this.isCodeListLoadComplete = false;\r\n                                            this.$ba.trackEvent('echartsMap', '文件下载', '打包下载成功');\r\n                                        });\r\n                                }\r\n                            });\r\n                        }, 100 * i)\r\n                    }\r\n                });\r\n            },\r\n            loadMap(mapName, data) {\r\n                console.log(11111,mapName, data)\r\n                // sessionStorage.setItem(mapName,JSON.stringify(data))\r\n                if (data) {\r\n                    this.$echarts.registerMap(mapName, data);\r\n                    var option = {\r\n                        visualMap: {\r\n                            type: 'piecewise',\r\n                            pieces: [\r\n                                {max: 30, label: '安全', color: '#2c9a42'},\r\n                                {min: 30, max: 60, label: '警告', color: '#d08a00'},\r\n                                {min: 60, label: '危险', color: '#c23c33'},\r\n                            ],\r\n                            color: '#fff',\r\n                            textStyle: {\r\n                                color: '#fff',\r\n                            },\r\n                            visibility: 'off'\r\n                        },\r\n                        series: [{\r\n                            name: '数据名称',\r\n                            type: 'map',\r\n                            roam: false,\r\n                            mapType: mapName,\r\n                            selectedMode: 'single',\r\n                            showLegendSymbol: false,\r\n                            visibility: 'off',\r\n                            itemStyle: {\r\n                                normal: {\r\n                                    color: '#ccc',\r\n                                    areaColor: '#fff',\r\n                                    borderColor: '#fff',\r\n                                    borderWidth: 0.5,\r\n                                    label: {\r\n                                        show: true,\r\n                                        textStyle: {\r\n                                            color: \"rgb(249, 249, 249)\"\r\n                                        }\r\n                                    }\r\n                                },\r\n                                emphasis: {\r\n                                    areaColor: false,\r\n                                    borderColor: '#fff',\r\n                                    areaStyle: {\r\n                                        color: '#fff'\r\n                                    },\r\n                                    label: {\r\n                                        show: true,\r\n                                        textStyle: {\r\n                                            color: \"rgb(249, 249, 249)\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            },\r\n                            data: this.mapData,\r\n                        }]\r\n                    };\r\n                    this.echartsMap.setOption(option);\r\n                }\r\n            },\r\n            getData(data, level, adcode) {\r\n                var bounds = data.boundaries;\r\n                if (bounds) {\r\n                    for (var i = 0, l = bounds.length; i < l; i++) {\r\n                        var polygon = new AMap.Polygon({\r\n                            map: this.map,\r\n                            strokeWeight: 1,\r\n                            strokeColor: '#0091ea',\r\n                            fillColor: '#80d8ff',\r\n                            fillOpacity: 0.2,\r\n                            path: bounds[i]\r\n                        });\r\n                        this.polygons.push(polygon);\r\n                    }\r\n                    this.map.setFitView();//地图自适应\r\n                }\r\n\r\n                //清空下一级别的下拉列表\r\n                if (level === 'province') {\r\n                    this.citySelect.innerHTML = '';\r\n                    this.districtSelect.innerHTML = '';\r\n                } else if (level === 'city') {\r\n                    this.districtSelect.innerHTML = '';\r\n                }\r\n\r\n                var subList = data.districtList;\r\n                if (subList) {\r\n                    var contentSub = new Option('--请选择--');\r\n                    var curlevel = subList[0].level;\r\n                    if (curlevel === 'street') {\r\n                        let mapJsonList = this.geoJsonData.features;\r\n                        let mapJson = {};\r\n                        for (let i in mapJsonList) {\r\n                            if (mapJsonList[i].properties.name == this.cityName) {\r\n                                mapJson.features = [].concat(mapJsonList[i]);\r\n                            }\r\n                        }\r\n                        this.mapData = [];\r\n                        this.mapData.push({name: this.cityName, value: Math.random() * 100, level: curlevel});\r\n                        this.loadMap(this.cityName, mapJson);\r\n                        this.geoJsonData = mapJson;\r\n                        return;\r\n                    }\r\n                    var curList = document.querySelector('#' + curlevel);\r\n                    curList.add(contentSub);\r\n                    this.mapData = [];\r\n                    for (var i = 0, l = subList.length; i < l; i++) {\r\n                        var name = subList[i].name;\r\n                        var cityCode = subList[i].adcode;\r\n                        this.mapData.push({\r\n                            name: name,\r\n                            value: Math.random() * 100,\r\n                            cityCode: cityCode,\r\n                            level: curlevel\r\n                        });\r\n                        var levelSub = subList[i].level;\r\n                        contentSub = new Option(name);\r\n                        contentSub.setAttribute(\"value\", levelSub);\r\n                        contentSub.center = subList[i].center;\r\n                        contentSub.adcode = subList[i].adcode;\r\n                        curList.add(contentSub);\r\n                    }\r\n                    this.loadMapData(adcode);\r\n                    this.areaData[curlevel] = curList;\r\n                }\r\n\r\n            },\r\n            search(area) {\r\n                let obj = this.areaData[area];\r\n                //清除地图上所有覆盖物\r\n                for (var i = 0, l = this.polygons.length; i < l; i++) {\r\n                    this.polygons[i].setMap(null);\r\n                }\r\n                var option = obj[obj.options.selectedIndex];\r\n                var keyword = option.text; //关键字\r\n                var adcode = option.adcode;\r\n                this.cityName = keyword;\r\n                this.cityCode = adcode;\r\n                this.$ba.trackEvent('echartsMap', '筛选地图', `${this.cityName}-${this.cityCode}`);\r\n                this.district.setLevel(option.value); //行政区级别\r\n                this.district.setExtensions('all');\r\n                //行政区查询\r\n                //按照adcode进行查询可以保证数据返回的唯一性\r\n                this.district.search(adcode, (status, result) => {\r\n                    if (status === 'complete') {\r\n                        this.getData(result.districtList[0], obj.id, adcode);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n\r\n    * {\r\n        font-size 14px\r\n    }\r\n\r\n    .body {\r\n        display flex\r\n        width 100%\r\n    }\r\n\r\n    .map, .echarts {\r\n        width 0\r\n        flex 1\r\n    }\r\n\r\n    .echarts {\r\n        background: url(\"./images/bg_bigdata.png\") no-repeat\r\n        background-size 100% 100%\r\n    }\r\n\r\n    #map {\r\n        width 100%\r\n        height 100vh\r\n    }\r\n\r\n    .tips {\r\n        position fixed\r\n        bottom 30%\r\n        left 40%\r\n        padding 10px 15px\r\n        border-radius 5px\r\n        color #fff\r\n        background rgba(0, 0, 0, .8)\r\n        z-index 999\r\n    }\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=22d70114&scoped=true&\"\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&id=22d70114&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22d70114\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=22d70114&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=22d70114&lang=stylus&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Github.vue?vue&type=style&index=0&id=8c423ad0&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Github.vue?vue&type=style&index=0&id=8c423ad0&lang=stylus&scoped=true&\"","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n"],"sourceRoot":""}